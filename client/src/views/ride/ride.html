<div>
  <md-progress-circular ng-if="!days" md-mode="indeterminate" md-diameter="120" style="margin: 0 auto;"></md-progress-circular>
  <div ng-if="days">
    <h1>{{ ride.name }}</h1>
    <div layout="row">
        <div flex="auto" ng-repeat="day in dailyAverages">
            <div>{{ day._id | dayOfWeek }}</div>
            <div>Average: {{ day.average | number:0}}</div>
            <div>Min: {{ day.min | number:0 }}</div>
            <div>Max: {{ day.max | number:0}}</div>
        </div>
    </div>
    <calendar-md flex layout layout-fill
    calendar-direction="direction"
    on-prev-month="prevMonth"
    on-next-month="nextMonth"
    on-day-click="dayClick"
    title-format="'MMMM y'"
    ng-model='selectedDate'
    week-starts-on="firstDayOfWeek"
    tooltips="tooltips"
    day-format="dayFormat"
    day-label-format="'EEE'"
    day-label-tooltip-format="'EEEE'"
    day-tooltip-format="'fullDate'"
    day-content="setDayContent"
    disable-future-selection="false"></calendar-md>
    <ul>
      <li ng-repeat="day in days">
        <span>{{ day._id | toDate | date: 'EEEE, MMMM d' }}</span>
        <span>Average: {{ day.average | number:0}}</span>
        <span>Min: {{ day.min | number:0 }}</span>
        <span>Max: {{ day.max | number:0}}</span>
        <nvd3 options="chartOptions" data="day.graph"></nvd3>
      </li>
    </ul>
  </div>
</div>